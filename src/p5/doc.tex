\chapter{Circular Linked List}

\section{Aim}

To implement linked list operations on a "Circular Linked List".

\section{Algorithm}

Let the $Node$ data structure contain three fields,
data and references to the next and previous node. Let there be a variable $L$ to keep track of the last variable.

\begin{lstlisting}[style=myC]
record Node
{
	data;
	Node next;
}
record List {
	Node lastNode;
}

\end{lstlisting}

\subsection{Insertion}

\begin{algorithmic}[1]
	\Function{insertafter}{Node $node$, Node $newNode$}
		\If{$node = \phi$}
			\State $newNode.next = newNode$
		\Else
			\State $newNode.next = node.next$
			\State $node.next = newNode$
		\EndIf
	\EndFunction
\end{algorithmic}

\subsection{Deletion}
\begin{algorithmic}[1]
	\Function{deletebeginning}{}
		\State $lastNode \gets list.lastNode$
		\If{$lastNode = \phi$}
			\State \Return{}
		\EndIf
		\State $firstNode \gets lastNode.next$
		\State $lastNode.next = firstNode.next$
		\State \Call{destroy}{firstNode}
	\EndFunction

	\Function{deleteafter}{Node $node$}
		\State $t \gets node.next$
		\If{$t = \phi$}
			\State \Return
		\EndIf
		\State $node.next = t.next$
		\If{$t == list.lastNode$}
			\State $list.lastNode = node$
			\State $node.next = t.next$
		\EndIf
		\State \Call{destroy}{t}
	\EndFunction
\end{algorithmic}


\subsection{Traversal}

\begin{algorithmic}[1]
	\Function{iterate}{Node $node$}
		\If{$node \neq \phi$}
			\State $iter \gets node$
			\Repeat
				\State \Call{foo}{iter.data}
				\State $iter = iter.next$
			\Until{$iter \neq node$}
		\EndIf
	\EndFunction
\end{algorithmic}


\subsection{Searching}

\begin{algorithmic}[1]
	\Function{search}{Node $node$, data $x$}
		\State $found \gets false$
		\If{$node \neq \phi$}
			\State $iter \gets node$
			\Repeat
				\If{$iter.data = x$}
					\State $found = true$
				\EndIf
				\State $iter = iter.next$
			\Until{$iter \neq node$ \textbf{and} $found$ \textbf{not} $true$}
		\EndIf
		\State \Return $\phi$
	\EndFunction
\end{algorithmic}

\section{Code}

\subsubsection{circularlinkedlist.c}

\lstinputlisting[style=myC]{src/p4/doublylinkedlist.c}

\subsubsection{circularlinkedlist.output}

\lstinputlisting[]{src/p4/doublylinkedlist.output}


\section{Result}
Circular Linked List operations were implemented successfully.
